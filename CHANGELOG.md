# Changelog

## [1.0.0] - 2025-01-29

### üì∏ MediaGallery - –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

#### ‚ú® –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- **–ú–µ–¥—ñ–∞ –≥–∞–ª–µ—Ä–µ—è** - –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ
- **TalkyTimes —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è** - –ü—Ä—è–º–∏–π –∑–≤'—è–∑–æ–∫ –∑ TalkyTimes API –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ç–æ
- **–†–æ–∑–¥—ñ–ª–∏ —Ñ–æ—Ç–æ** - "–î–æ—Å—Ç—É–ø–Ω—ñ" —Ç–∞ "Special" —Ä–æ–∑–¥—ñ–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —á–∞—Ç—É
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** - –†–æ–∑—É–º–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ñ–æ—Ç–æ (< 15)
- **–°–∫—Ä–æ–ª-–ø–∞–≥—ñ–Ω–∞—Ü—ñ—è** - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Å–∫—Ä–æ–ª –±–µ–∑ –∫–Ω–æ–ø–æ–∫
- **–í—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ** - –ü—Ä—è–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤ —á–∞—Ç —á–µ—Ä–µ–∑ TalkyTimes API
- **–í—ñ–∑—É–∞–ª—å–Ω—ñ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏** - Fire —ñ–∫–æ–Ω–∫–∏ –¥–ª—è special —Ñ–æ—Ç–æ, —Å—ñ—Ä—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏—Ö

#### üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- **JWT –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è** - –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º JWT_SECRET
- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** - –ú–µ–º–æ—ñ–∑–∞—Ü—ñ—è, Set lookup, debounce
- **–ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –≤–∏—Ç–æ–∫–∞–º –ø–∞–º'—è—Ç—ñ** - Proper cleanup –≤ useEffect
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö** - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ props —Ç–∞ API –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
- **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫** - Graceful fallback –ø—Ä–∏ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö

#### üêõ –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏
- –ì–∞–ª–µ—Ä–µ—è –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞–ª–∞—Å—è —á–µ—Ä–µ–∑ JWT –ø–æ–º–∏–ª–∫–∏
- –î—É–±–ª—ñ–∫–∞—Ç–∏ –∫–ª—é—á—ñ–≤ React –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–æ—Ç–æ
- –¶–∏–∫–ª—ñ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –ø—É—Å—Ç—ñ–π –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ TalkyTimes
- –ü–æ–º–∏–ª–∫–∞ "No active session found for profile 0"
- –§–æ—Ç–æ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª–∏—Å—è (—Å—ñ—Ä—ñ –∫–≤–∞–¥—Ä–∞—Ç–∏)

#### üìÅ –§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω–æ
**Frontend:**
- `apps/web/src/components/MediaGallery.tsx` - –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–∞–ª–µ—Ä–µ—ó
- `apps/web/src/app/chats/[dialogId]/page.tsx` - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ —á–∞—Ç
- `apps/web/src/lib/api.ts` - HTTP –∫–ª—ñ—î–Ω—Ç –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

**Backend:**
- `apps/server/src/main.ts` - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è environment –∑–º—ñ–Ω–Ω–∏—Ö
- `apps/server/src/auth/auth.module.ts` - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ JWT –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- `apps/server/src/gallery/gallery.controller.ts` - REST API endpoints
- `apps/server/src/gallery/gallery.service.ts` - TalkyTimes —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- `apps/server/src/app.controller.ts` - @Public() –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

#### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- `GALLERY_DOCUMENTATION.md` - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `README.md` - –û–Ω–æ–≤–ª–µ–Ω–æ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –≥–∞–ª–µ—Ä–µ—é

#### üîÑ API Endpoints
- `GET /api/gallery/:profileId/photos` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–æ—Ç–æ –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
- `POST /api/gallery/send-photos` - –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ –≤ —á–∞—Ç

#### üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- **Chat context** - –†–æ–∑–¥—ñ–ª–∏ —Ñ–æ—Ç–æ, –æ–±–º–µ–∂–µ–Ω–∞ —Å–µ–ª–µ–∫—Ü—ñ—è special —Ñ–æ—Ç–æ
- **Profile/Other context** - –í—Å—ñ —Ñ–æ—Ç–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –≤–∏–±–æ—Ä—É

#### ‚ö° –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
- –ú–µ–º–æ—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ñ–æ—Ç–æ
- Set-based lookup –¥–ª—è –≤–∏–±—Ä–∞–Ω–∏—Ö —Ñ–æ—Ç–æ (O(1) –∑–∞–º—ñ—Å—Ç—å O(n))
- Debounced scroll events (200ms)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π cleanup timeout —Ç–∞ event listeners
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è props —Ç–∞ API –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

---

### –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏
- [ ] Error Boundary –¥–ª—è –≥–∞–ª–µ—Ä–µ—ó
- [ ] –í—ñ—Ä—Ç—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Å–ø–∏—Å–∫—ñ–≤
- [ ] WebP –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- [ ] React Query –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
- [ ] Intersection Observer –¥–ª—è —Ç–æ—á–Ω—ñ—à–æ–≥–æ lazy loading
