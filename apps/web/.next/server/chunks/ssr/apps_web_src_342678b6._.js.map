{"version":3,"sources":["turbopack:///[project]/apps/web/src/lib/api.ts","turbopack:///[project]/apps/web/src/components/Header.tsx","turbopack:///[project]/apps/web/src/app/profiles/page.tsx"],"sourcesContent":["import { clearSession, getAccessToken } from './session';\n\nconst API_BASE = typeof window !== 'undefined'\n  ? window.location.origin\n  : (process.env.NEXT_PUBLIC_API_URL ?? 'http://localhost:4000');\n\nfunction authz(): HeadersInit {\n\tconst token = getAccessToken();\n\treturn token ? { Authorization: `Bearer ${token}` } : {};\n}\n\nasync function handle<T>(res: Response, path: string): Promise<T> {\n\tif (res.status === 401) {\n\t\tconsole.error('üö® API 401 Unauthorized:', path);\n\t\tconsole.error('üîë Current token:', getAccessToken() ? 'Present' : 'Missing');\n\t\tclearSession();\n\t\tif (typeof window !== 'undefined') {\n\t\t\tconsole.error('üîÑ Redirecting to login...');\n\t\t\twindow.location.href = '/login';\n\t\t}\n\t\tthrow new Error('Unauthorized');\n\t}\n\tif (!res.ok) {\n\t\t// –°–ø—Ä–æ–±—É—î–º–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ\n\t\ttry {\n\t\t\tconst errorData = await res.json();\n\t\t\tconst errorMessage = errorData.message || `${res.status} ${path}`;\n\t\t\tthrow new Error(errorMessage);\n\t\t} catch {\n\t\t\t// –Ø–∫—â–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–ø–∞—Ä—Å–∏—Ç–∏ JSON, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –ø–æ–º–∏–ª–∫—É\n\t\t\tthrow new Error(`${res.status} ${path}`);\n\t\t}\n\t}\n\treturn res.json() as Promise<T>;\n}\n\nfunction sleep(ms: number) {\n\treturn new Promise(resolve => setTimeout(resolve, ms));\n}\n\nasync function apiRequest<T>(path: string, options: RequestInit = {}): Promise<T> {\n\tconst headers = {\n\t\t...authz(),\n\t\t...(options.body ? { 'content-type': 'application/json' } : {}),\n\t\t...options.headers\n\t};\n\n\t// –õ–æ–≥—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –≤ development —ñ —Ç—ñ–ª—å–∫–∏ –≤–∞–∂–ª–∏–≤—ñ –∑–∞–ø–∏—Ç–∏ (–Ω–µ photo-statuses)\n\t// –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ —à–ª—è—Ö: —è–∫—â–æ –Ω–µ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ /api, –¥–æ–¥–∞—î–º–æ –ø—Ä–µ—Ñ—ñ–∫—Å\n\tconst normalizedPath = path.startsWith('/api')\n\t\t? path\n\t\t: (path.startsWith('/') ? `/api${path}` : `/api/${path}`);\n\n\tif (process.env.NODE_ENV === 'development') {\n\t\tconst method = options.method || 'GET';\n\t\tconst isPhotoStatusRequest = normalizedPath.includes('photo-statuses');\n\t\tconst shouldLog = (method !== 'GET' || !headers.Authorization) && !isPhotoStatusRequest;\n\t\tif (shouldLog) {\n\t\t\tconsole.log('üåê API Request:', {\n\t\t\t\turl: `${API_BASE}${normalizedPath}`,\n\t\t\t\tmethod,\n\t\t\t\thasAuth: !!headers.Authorization,\n\t\t\t\thasBody: !!options.body\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// –†–µ—Ç—Ä–∞—ó –¥–ª—è 429: GET —Ç–∞ —ñ–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ñ POST (—Å—Ç–∞—Ç—É—Å–∏ –≥–∞–ª–µ—Ä–µ—ó)\n\tconst method = (options.method || 'GET').toUpperCase();\n\tconst isIdempotentStatusesPost = method === 'POST' && (\n\t\tpath.includes('/api/gallery/photo-statuses') ||\n\t\tpath.includes('/api/gallery/video-statuses') ||\n\t\tpath.includes('/api/gallery/audio-statuses')\n\t);\n\tconst maxRetries = (method === 'GET' || isIdempotentStatusesPost) ? 3 : 0;\n\tlet attempt = 0;\n\n\twhile (true) {\n\t\tconst res = await fetch(`${API_BASE}${normalizedPath}`, {\n\t\t\t...options,\n\t\t\theaders,\n\t\t\tcache: 'no-store',\n\t\t});\n\n\t\tif (res.status === 429 && attempt < maxRetries) {\n\t\t\t// –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∏–π backoff + –ø–æ–≤–∞–≥–∞ –¥–æ Retry-After, —è–∫—â–æ —î\n\t\t\tattempt += 1;\n\t\t\tconst retryAfterHeader = res.headers.get('Retry-After');\n\t\t\tlet delayMs = 0;\n\t\t\tif (retryAfterHeader) {\n\t\t\t\tconst seconds = Number(retryAfterHeader);\n\t\t\t\tdelayMs = Number.isFinite(seconds) ? seconds * 1000 : 0;\n\t\t\t}\n\t\t\t// –Ø–∫—â–æ Retry-After –Ω–µ –∑–∞–¥–∞–Ω–∏–π ‚Äî 500ms * 2^(attempt-1) + –Ω–µ–≤–µ–ª–∏–∫–∏–π jitter\n\t\t\tif (delayMs === 0) {\n\t\t\t\tdelayMs = 500 * Math.pow(2, attempt - 1) + Math.floor(Math.random() * 200);\n\t\t\t}\n\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\tconsole.warn(`‚è≥ 429 on ${path}, retry ${attempt}/${maxRetries} in ${delayMs}ms`);\n\t\t\t}\n\t\t\tawait sleep(delayMs);\n\t\t\tcontinue;\n\t\t}\n\n\t\treturn handle<T>(res, path);\n\t}\n}\n\nexport async function apiGet<T>(path: string, params?: Record<string, string>): Promise<T> {\n\tconst url = params ? `${path}?${new URLSearchParams(params).toString()}` : path;\n\treturn apiRequest<T>(url, { method: 'GET' });\n}\n\nexport async function apiPost<T>(path: string, body: unknown): Promise<T> {\n\treturn apiRequest<T>(path, { \n\t\tmethod: 'POST', \n\t\tbody: JSON.stringify(body) \n\t});\n}\n\nexport async function apiPut<T>(path: string, body: unknown): Promise<T> {\n\treturn apiRequest<T>(path, { \n\t\tmethod: 'PUT', \n\t\tbody: JSON.stringify(body) \n\t});\n}\n\nexport async function apiDelete<T>(path: string): Promise<T> {\n\treturn apiRequest<T>(path, { method: 'DELETE' });\n}\n","'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { clearSession } from '@/lib/session';\n\ninterface HeaderProps {\n  title?: string;\n  showHomeButton?: boolean;\n  showChatsButton?: boolean;\n  showSettingsButton?: boolean;\n  showEndShiftButton?: boolean;\n  showLogoutButton?: boolean;\n  showBackButton?: boolean;\n  isActive?: boolean;\n  currentPath?: string;\n  onEndShift?: () => void;\n}\n\nexport function Header({\n  title,\n  showHomeButton = false,\n  showChatsButton = false,\n  showSettingsButton = false,\n  showEndShiftButton = false,\n  showLogoutButton = false,\n  showBackButton = false,\n  isActive = false,\n  currentPath = '',\n  onEndShift\n}: HeaderProps) {\n  const router = useRouter();\n\n  return (\n    <header className=\"h-12 bg-white border-b border-gray-200 flex items-center px-4 gap-4 flex-shrink-0\">\n      {/* –ù–∞–∑–≤–∞ –¥–æ–¥–∞—Ç–∫—É –∞–±–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ */}\n      <div className=\"font-bold text-xl text-[#680098] mr-4\">\n        {title || 'AnChat'}\n      </div>\n\n      {/* –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ */}\n      {showBackButton && (\n        <button\n          onClick={() => window.history.back()}\n          className=\"flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100\"\n          title=\"–ù–∞–∑–∞–¥\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5 text-gray-700\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18\" />\n          </svg>\n          <span className=\"text-[14px] text-gray-500\">–ù–∞–∑–∞–¥</span>\n        </button>\n      )}\n\n      {/* –ö–Ω–æ–ø–∫–∞ –Ω–∞ –¥–∞—à–±–æ—Ä–¥ */}\n      {showHomeButton && (\n        <button\n          onClick={() => router.push('/dashboard')}\n          className={`flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 ${\n            currentPath === '/dashboard' ? 'bg-blue-50 text-blue-700' : ''\n          }`}\n          title=\"–ù–∞ –¥–∞—à–±–æ—Ä–¥\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={`w-5 h-5 ${\n            currentPath === '/dashboard' ? 'text-blue-600' : 'text-gray-700'\n          }`}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5\" />\n          </svg>\n          <span className={`text-[14px] ${\n            currentPath === '/dashboard' ? 'text-blue-700 font-medium' : 'text-gray-500'\n          }`}>–î–∞—à–±–æ—Ä–¥</span>\n        </button>\n      )}\n\n      {/* –ö–Ω–æ–ø–∫–∞ —á–∞—Ç—ñ–≤ */}\n      {showChatsButton && (\n        <button\n          onClick={() => router.push('/chats')}\n          className={`flex items-center gap-2 px-3 py-2 rounded ${\n            !isActive ? 'opacity-50 cursor-not-allowed' : 'hover:bg-gray-100'\n          } ${\n            currentPath?.includes('/chats') ? 'bg-blue-50 text-blue-700' : ''\n          }`}\n          title={!isActive ? \"–ü–æ—á–Ω—ñ—Ç—å –∑–º—ñ–Ω—É —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø\" : \"–ß–∞—Ç–∏\"}\n          disabled={!isActive}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={`w-5 h-5 ${\n            currentPath?.includes('/chats') ? 'text-blue-600' : 'text-gray-700'\n          }`}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z\" />\n          </svg>\n          <span className={`text-[14px] ${\n            currentPath?.includes('/chats') ? 'text-blue-700 font-medium' : 'text-gray-500'\n          }`}>–ß–∞—Ç–∏</span>\n        </button>\n      )}\n\n      {/* –ö–Ω–æ–ø–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å */}\n      {showSettingsButton && (\n        <button\n          onClick={() => router.push('/settings')}\n          className={`flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 ${\n            currentPath === '/settings' ? 'bg-blue-50 text-blue-700' : ''\n          }`}\n          title=\"–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={`w-5 h-5 ${\n            currentPath === '/settings' ? 'text-blue-600' : 'text-gray-700'\n          }`}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.165.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.108 1.204.165.397.506.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.108 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.939-1.11.939h-1.094c-.55 0-1.019-.397-1.11-.94l-.148-.893c-.071-.425-.383-.763-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.939-.56-.939-1.109v-1.094c0-.55.397-1.019.94-1.11l.894-.149c.424-.07.763-.383.929-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z\" />\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n          </svg>\n          <span className={`text-[14px] ${\n            currentPath === '/settings' ? 'text-blue-700 font-medium' : 'text-gray-500'\n          }`}>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>\n        </button>\n      )}\n\n      {/* –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–º—ñ–Ω—É */}\n      {showEndShiftButton && currentPath !== '/dashboard' && (\n        <button\n          onClick={onEndShift}\n          className=\"group flex items-center gap-2 px-3 py-2 rounded hover:bg-red-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          title=\"–ó–∞–≤–µ—Ä—à–∏—Ç–∏ –∑–º—ñ–Ω—É\"\n          disabled={!isActive}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" strokeWidth={1.5} className=\"w-5 h-5 text-gray-700 group-hover:text-red-600 group-hover:fill-red-600 transition-all border border-gray-400 rounded group-hover:border-red-600\" fill=\"none\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z\" />\n          </svg>\n          <span className=\"text-[14px] text-gray-500 group-hover:text-red-500 transition-colors\">–ó–∞–≤–µ—Ä—à–∏—Ç–∏</span>\n        </button>\n      )}\n\n\n      {/* –ö–Ω–æ–ø–∫–∞ –≤–∏—Ö–æ–¥—É */}\n      {showLogoutButton && (\n        <button\n          onClick={() => { clearSession(); router.push('/login'); }}\n          className=\"flex items-center gap-2 px-3 py-2 rounded hover:bg-gray-100 ml-auto\"\n          title=\"–í–∏–π—Ç–∏\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-5 h-5 text-gray-700\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25\" />\n          </svg>\n          <span className=\"text-[14px] text-gray-500\">–í–∏–π—Ç–∏</span>\n        </button>\n      )}\n    </header>\n  );\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { apiGet, apiPost, apiPut, apiDelete } from '../../lib/api';\nimport { getRole } from '../../lib/session';\nimport { useRouter } from 'next/navigation';\nimport { Header } from '@/components/Header';\n\ninterface Group {\n  id: string;\n  name: string;\n}\n\ninterface Profile {\n  id: string;\n  provider: string;\n  displayName: string | null;\n  credentialLogin: string | null;\n  profileId?: string | null;\n  status: string;\n  createdAt: string;\n  group: Group;\n}\n\ninterface FormData {\n  displayName: string;\n  credentialLogin: string;\n  credentialPassword?: string;\n  provider: string;\n  groupId: string;\n}\n\nconst PROVIDERS = [\n  { value: 'TALKYTIMES', label: 'TalkyTimes' }\n];\n\nexport default function ProfilesPage() {\n  const [profiles, setProfiles] = useState<Profile[]>([]);\n  const [groups, setGroups] = useState<Group[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [validationError, setValidationError] = useState<string | null>(null);\n  const [active, setActive] = useState<boolean>(false);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [showCreateGroup, setShowCreateGroup] = useState(false);\n  const [editingProfile, setEditingProfile] = useState<Profile | null>(null);\n  const [isValidating, setIsValidating] = useState(false);\n  const [formData, setFormData] = useState<FormData>({\n    displayName: '',\n    credentialLogin: '',\n    credentialPassword: '',\n    provider: 'TALKYTIMES',\n    groupId: '',\n  });\n  const [newGroupName, setNewGroupName] = useState('');\n  const router = useRouter();\n  const userRole = getRole();\n\n  useEffect(() => {\n    if (userRole !== 'OWNER') {\n      router.replace('/login');\n      return;\n    }\n    loadData();\n  }, [userRole, router]);\n\n  const loadData = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const [fetchedProfiles, fetchedGroups, shiftStatus] = await Promise.all([\n        apiGet<Profile[]>('/profiles'),\n        apiGet<Group[]>('/groups'),\n        apiGet<{ active: boolean }>('/api/shifts/is-active')\n      ]);\n      setProfiles(fetchedProfiles);\n      setGroups(fetchedGroups);\n      setActive(!!shiftStatus?.active);\n    } catch (err) {\n      setError('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreateGroup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newGroupName.trim()) return;\n\n    try {\n      const newGroup = await apiPost<Group>('/groups', { name: newGroupName });\n      setGroups([...groups, newGroup]);\n      setFormData({ ...formData, groupId: newGroup.id });\n      setNewGroupName('');\n      setShowCreateGroup(false);\n    } catch (err) {\n      setError('–ü–æ–º–∏–ª–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–∏');\n      console.error(err);\n    }\n  };\n\n  const handleCreate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setValidationError(null);\n    setIsValidating(true);\n    \n    try {\n      await apiPost('/profiles', formData);\n      setShowCreateForm(false);\n      setFormData({ displayName: '', credentialLogin: '', credentialPassword: '', provider: 'TALKYTIMES', groupId: '' });\n      loadData();\n            } catch (err: unknown) {\n      // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —Ü–µ –ø–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö\n      const errorMessage = err instanceof Error ? err.message : '–ù–µ–≤—ñ–¥–æ–º–∞ –ø–æ–º–∏–ª–∫–∞';\n      if (errorMessage.includes('–ù–µ –≤–¥–∞–ª–æ—Å—å –∑–∞–ª–æ–≥—ñ–Ω–∏—Ç–∏—Å—å')) {\n        setValidationError(errorMessage);\n        // –ù–ï –æ—á–∏—â—É—î–º–æ —Ñ–æ—Ä–º—É, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º—ñ–≥ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –¥–∞–Ω—ñ\n      } else {\n        setError('–ü–æ–º–∏–ª–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é');\n        console.error(err);\n      }\n    } finally {\n      setIsValidating(false);\n    }\n  };\n\n  const handleUpdate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingProfile) return;\n\n    try {\n      await apiPut(`/profiles/${editingProfile.id}`, formData);\n      setEditingProfile(null);\n      setFormData({ displayName: '', credentialLogin: '', credentialPassword: '', provider: 'TALKYTIMES', groupId: '' });\n      loadData();\n    } catch (err) {\n      setError('–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é');\n      console.error(err);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!window.confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –ø—Ä–æ—Ñ—ñ–ª—å?')) return;\n    try {\n      await apiDelete(`/profiles/${id}`);\n      loadData();\n    } catch (err) {\n      setError('–ü–æ–º–∏–ª–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é');\n      console.error(err);\n    }\n  };\n\n  const startEdit = (profile: Profile) => {\n    setEditingProfile(profile);\n    setFormData({\n      displayName: profile.displayName || '',\n      credentialLogin: profile.credentialLogin || '',\n      provider: profile.provider,\n      groupId: profile.group.id,\n      credentialPassword: '', // Password should not be pre-filled for security\n    });\n  };\n\n  const cancelEdit = () => {\n    setEditingProfile(null);\n    setFormData({ displayName: '', credentialLogin: '', credentialPassword: '', provider: 'TALKYTIMES', groupId: '' });\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n    // –û—á–∏—â—É—î–º–æ –ø–æ–º–∏–ª–∫—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–∞–Ω–∏—Ö\n    if (validationError) {\n      setValidationError(null);\n    }\n  };\n\n  if (loading) return <div className=\"p-6\">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>;\n  if (error) return <div className=\"p-6 text-red-500\">–ü–æ–º–∏–ª–∫–∞: {error}</div>;\n  if (userRole !== 'OWNER') return <div className=\"p-6 text-red-500\">–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ</div>;\n\n  return (\n    <div className=\"flex flex-col h-screen\">\n      <Header title=\"–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ü—Ä–æ—Ñ—ñ–ª—è–º–∏\" showChatsButton={true} isActive={active} currentPath=\"/profiles\" />\n\n      {/* –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç */}\n      <div className=\"flex-1 overflow-y-auto p-6 custom-scroll\">\n\n      <button\n        onClick={() => setShowCreateForm(!showCreateForm)}\n        className=\"bg-primary text-white px-4 py-2 rounded mb-4 hover:bg-primary-dark\"\n      >\n        {showCreateForm ? '–ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ —Ñ–æ—Ä–º—É' : '–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø—Ä–æ—Ñ—ñ–ª—å'}\n      </button>\n\n      {showCreateForm && (\n        <form onSubmit={handleCreate} className=\"bg-gray-100 p-4 rounded mb-6\">\n          <h2 className=\"text-xl font-semibold mb-3\">–ù–æ–≤–∏–π –ü—Ä–æ—Ñ—ñ–ª—å</h2>\n          \n          {validationError && (\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n              <strong>–ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:</strong> {validationError}\n            </div>\n          )}\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <select\n              name=\"provider\"\n              value={formData.provider}\n              onChange={handleChange}\n              className=\"border p-2 rounded\"\n              required\n            >\n              <option value=\"\">–û–±–µ—Ä—ñ—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</option>\n              {PROVIDERS.map((provider) => (\n                <option key={provider.value} value={provider.value}>\n                  {provider.label}\n                </option>\n              ))}\n            </select>\n            <input\n              type=\"text\"\n              name=\"displayName\"\n              placeholder=\"–Ü–º&apos;—è –ø—Ä–æ—Ñ—ñ–ª—é\"\n              value={formData.displayName}\n              onChange={handleChange}\n              className=\"border p-2 rounded\"\n              required\n            />\n            <input\n              type=\"text\"\n              name=\"credentialLogin\"\n              placeholder=\"–õ–æ–≥—ñ–Ω\"\n              value={formData.credentialLogin}\n              onChange={handleChange}\n              className=\"border p-2 rounded\"\n              required\n            />\n            <input\n              type=\"password\"\n              name=\"credentialPassword\"\n              placeholder=\"–ü–∞—Ä–æ–ª—å\"\n              value={formData.credentialPassword}\n              onChange={handleChange}\n              className=\"border p-2 rounded\"\n              required\n            />\n            <div className=\"flex gap-2\">\n              <select\n                name=\"groupId\"\n                value={formData.groupId}\n                onChange={handleChange}\n                className=\"border p-2 rounded flex-1\"\n                required\n              >\n                <option value=\"\">–û–±–µ—Ä—ñ—Ç—å –≥—Ä—É–ø—É</option>\n                {groups.map((group) => (\n                  <option key={group.id} value={group.id}>\n                    {group.name}\n                  </option>\n                ))}\n              </select>\n              <button\n                type=\"button\"\n                onClick={() => setShowCreateGroup(true)}\n                className=\"bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600 whitespace-nowrap\"\n              >\n                –°—Ç–≤–æ—Ä–∏—Ç–∏ –≥—Ä—É–ø—É\n              </button>\n            </div>\n          </div>\n          <button \n            type=\"submit\" \n            disabled={isValidating}\n            className={`px-4 py-2 rounded text-white ${\n              isValidating \n                ? 'bg-gray-400 cursor-not-allowed' \n                : 'bg-green-500 hover:bg-green-600'\n            }`}\n          >\n            {isValidating ? '–ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –¥–∞–Ω—ñ...' : '–°—Ç–≤–æ—Ä–∏—Ç–∏'}\n          </button>\n          <button type=\"button\" onClick={() => setShowCreateForm(false)} className=\"ml-2 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\">\n            –°–∫–∞—Å—É–≤–∞—Ç–∏\n          </button>\n        </form>\n      )}\n\n      {showCreateGroup && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-lg w-96\">\n            <h3 className=\"text-lg font-semibold mb-4\">–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –≥—Ä—É–ø—É</h3>\n            <form onSubmit={handleCreateGroup}>\n              <input\n                type=\"text\"\n                placeholder=\"–ù–∞–∑–≤–∞ –≥—Ä—É–ø–∏\"\n                value={newGroupName}\n                onChange={(e) => setNewGroupName(e.target.value)}\n                className=\"border p-2 rounded w-full mb-4\"\n                required\n              />\n              <div className=\"flex gap-2\">\n                <button type=\"submit\" className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n                  –°—Ç–≤–æ—Ä–∏—Ç–∏\n                </button>\n                <button type=\"button\" onClick={() => setShowCreateGroup(false)} className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\">\n                  –°–∫–∞—Å—É–≤–∞—Ç–∏\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white border border-gray-200\">\n          <thead>\n            <tr>\n              <th className=\"py-2 px-4 border-b\">–Ü–º&apos;—è</th>\n              <th className=\"py-2 px-4 border-b\">–õ–æ–≥—ñ–Ω</th>\n              <th className=\"py-2 px-4 border-b\">–°—Ç–∞—Ç—É—Å</th>\n              <th className=\"py-2 px-4 border-b\">–ì—Ä—É–ø–∞</th>\n              <th className=\"py-2 px-4 border-b\">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</th>\n              <th className=\"py-2 px-4 border-b\">–°—Ç–≤–æ—Ä–µ–Ω–æ</th>\n              <th className=\"py-2 px-4 border-b\">–î—ñ—ó</th>\n            </tr>\n          </thead>\n          <tbody>\n            {profiles.map((profile) => (\n              <tr key={profile.id} className=\"hover:bg-gray-50\">\n                {editingProfile?.id === profile.id ? (\n                  <>\n                    <td className=\"py-2 px-4 border-b\">\n                      <input\n                        type=\"text\"\n                        name=\"displayName\"\n                        value={formData.displayName}\n                        onChange={handleChange}\n                        className=\"border p-1 rounded w-full\"\n                        required\n                      />\n                    </td>\n                    <td className=\"py-2 px-4 border-b\">\n                      <input\n                        type=\"text\"\n                        name=\"credentialLogin\"\n                        value={formData.credentialLogin}\n                        onChange={handleChange}\n                        className=\"border p-1 rounded w-full\"\n                        required\n                      />\n                    </td>\n                    <td className=\"py-2 px-4 border-b\">{profile.status}</td>\n                    <td className=\"py-2 px-4 border-b\">\n                      <select\n                        name=\"groupId\"\n                        value={formData.groupId}\n                        onChange={handleChange}\n                        className=\"border p-1 rounded w-full\"\n                        required\n                      >\n                        {groups.map((group) => (\n                          <option key={group.id} value={group.id}>\n                            {group.name}\n                          </option>\n                        ))}\n                      </select>\n                    </td>\n                    <td className=\"py-2 px-4 border-b\">{profile.provider}</td>\n                    <td className=\"py-2 px-4 border-b\">{new Date(profile.createdAt).toLocaleDateString()}</td>\n                    <td className=\"py-2 px-4 border-b\">\n                      <button onClick={handleUpdate} className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600\">\n                        –ó–±–µ—Ä–µ–≥—Ç–∏\n                      </button>\n                      <button onClick={cancelEdit} className=\"ml-2 bg-gray-500 text-white px-2 py-1 rounded text-sm hover:bg-gray-600\">\n                        –°–∫–∞—Å—É–≤–∞—Ç–∏\n                      </button>\n                    </td>\n                  </>\n                ) : (\n                  <>\n                    <td className=\"py-2 px-4 border-b\">{profile.displayName || '–ù–µ–º–∞—î'}</td>\n                    <td className=\"py-2 px-4 border-b\">{profile.credentialLogin || '–ù–µ–º–∞—î'}</td>\n                    <td className=\"py-2 px-4 border-b\">\n                      <span className={`px-2 py-1 rounded text-xs ${profile.status === 'ACTIVE' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                        {profile.status}\n                      </span>\n                    </td>\n                    <td className=\"py-2 px-4 border-b\">{profile.group.name}</td>\n                    <td className=\"py-2 px-4 border-b\">{profile.provider}</td>\n                    <td className=\"py-2 px-4 border-b\">{new Date(profile.createdAt).toLocaleDateString()}</td>\n                    <td className=\"py-2 px-4 border-b\">\n                      <button onClick={() => startEdit(profile)} className=\"bg-yellow-500 text-white px-2 py-1 rounded text-sm hover:bg-yellow-600\">\n                        –†–µ–¥–∞–≥—É–≤–∞—Ç–∏\n                      </button>\n                      <button onClick={() => handleDelete(profile.id)} className=\"ml-2 bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\">\n                        –í–∏–¥–∞–ª–∏—Ç–∏\n                      </button>\n                    </td>\n                  </>\n                )}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}